<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plot rolling differences (CAGR, log) and Xetra liquidity plots • fundsr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Plot rolling differences (CAGR, log) and Xetra liquidity plots">
<meta property="og:description" content="Small tidyverse-based framework for importing &amp; plotting UCITS ETF/index/liquidity data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">fundsr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/fundsr-intro.html">fundsr: Rolling differences and Xetra liquidity plots</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/StanTraykov/fundsr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h1></div>
<p>fundsr imports fund NAVs and index levels and creates tracking difference plots (CAGR and log-return). Plotting Xetra liquidity data (XLM) is also supported.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"StanTraykov/fundsr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h1>
<ul>
<li>
<a href="https://stantraykov.github.io/fundsr/articles/fundsr-intro.html" class="external-link">Intro vignette</a> contains a simple walkthrough comparing IUSQ and SPYY (no data setup needed)</li>
<li>
<code>inst/scripts/examples</code> (e.g. open <code>.Rproj</code> file in R Studio after installing the package)
<ul>
<li>
<code>glob_funds.R</code> a more comprehensive example featuring global funds but requiring manual index &amp; fund data setup outside the package</li>
<li>
<code>all_funds.R</code> an example containing the global funds and others</li>
</ul>
</li>
<li><a href="https://stantraykov.github.io/fundsr/reference/index.html" class="external-link">Reference</a></li>
</ul>
</div>
<div class="section level1">
<h1 id="importing-data">Importing data<a class="anchor" aria-label="anchor" href="#importing-data"></a>
</h1>
<div class="section level2">
<h2 id="funds">Funds<a class="anchor" aria-label="anchor" href="#funds"></a>
</h2>
<div class="section level3">
<h3 id="supported-formats-amundi-hsbc-invesco-ishares-spdr-ubs-xtrackers">Supported formats (Amundi, HSBC, Invesco, iShares, SPDR, UBS, Xtrackers)<a class="anchor" aria-label="anchor" href="#supported-formats-amundi-hsbc-invesco-ishares-spdr-ubs-xtrackers"></a>
</h3>
<p>Fund providers allow downloading a NAV history in Excel format (even if it’s sometimes incomplete). iShares and SPDR downloads can be automated easily and fundsr supports this via the <a href="https://stantraykov.github.io/fundsr/reference/add_to_dl_list.html" class="external-link"><code>add_to_dl_list()</code></a> and <a href="https://stantraykov.github.io/fundsr/reference/dl_funds.html" class="external-link"><code>dl_funds()</code></a> functions—see the intro vignette for more info. For the others, manual downloads (or non-trivial automation) seem necessary. In this case, the fund <code>.xls</code> or <code>.xlsx</code> file must be made available to fundsr in the data directory. If the filename matches the ticker (e.g. <code>FWRA.xlsx</code>) it can be imported without specifying a file.</p>
<pre><code><span><span class="fu"><a href="reference/inve.html">inve</a></span><span class="op">(</span><span class="st">"FWRA"</span>, benchmark <span class="op">=</span> <span class="st">"FTAW"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/amun.html">amun</a></span><span class="op">(</span><span class="st">"WEBN"</span>, benchmark <span class="op">=</span> <span class="st">"GMLM"</span>, file <span class="op">=</span> <span class="st">"NAV History_Amundi Prime All Country World UCITS ETF Acc_IE0003XJA0J9_10_06_2024.xlsx"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="other-funds">Other funds<a class="anchor" aria-label="anchor" href="#other-funds"></a>
</h3>
<p>Prepare a tibble/dataframe or a CSV file with a date column and one or more data columns that must be lowercase for funds (e.g. <code>sxr8</code>, <code>vwce</code>, <code>spyy</code>) and uppercase for indices (e.g. <code>SP500</code>, <code>FTAW</code>, <code>ACWI</code>). Suppose you have a dataframe <code>funds_data</code> with fund NAVs and a CSV file with index levels. You can import them via:</p>
<pre><code><span><span class="va">fi_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    fwra <span class="op">=</span> <span class="st">"FTAW"</span>,</span>
<span>    webn <span class="op">=</span> <span class="st">"GMLM"</span>,</span>
<span>    vwce <span class="op">=</span> <span class="st">"FTAW"</span>,</span>
<span>    spyy <span class="op">=</span> <span class="st">"ACWI"</span>,</span>
<span>    spyi <span class="op">=</span> <span class="st">"ACWI_IMI"</span>,</span>
<span>    iusq <span class="op">=</span> <span class="st">"ACWI"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/setg.html">setg</a></span><span class="op">(</span><span class="st">"funds"</span>, <span class="va">funds_data</span>, add_fi_pairs <span class="op">=</span> <span class="va">fi_map</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/setg.html">setg</a></span><span class="op">(</span><span class="st">"indices"</span>, <span class="fu"><a href="reference/get_csv.html">get_csv</a></span><span class="op">(</span><span class="st">"indices.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>Note: dates in the CSV file must be Unix timestamps (in second or millisecond precision), see <a href="https://stantraykov.github.io/fundsr/reference/get_csv.html" class="external-link"><code>get_csv()</code></a>. ## Indices ### From fund files Some fund providers’ files include index series. These can be retrieved when importing the fund (supported for iShares, Xtrackers, Invesco), e.g.</p>
<pre><code><span><span class="va">import_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="reference/spdr.html">spdr</a></span><span class="op">(</span><span class="st">"SPYY"</span>, benchmark <span class="op">=</span> <span class="st">"ACWI"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="reference/ishs.html">ishs</a></span><span class="op">(</span><span class="st">"IUSQ"</span>, benchmark <span class="op">=</span> <span class="st">"ACWI"</span>, retrieve_benchmark <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># retrieve ACWI (R) from fund file</span></span>
<span>    <span class="fu"><a href="reference/inve.html">inve</a></span><span class="op">(</span><span class="st">"FWRA"</span>, benchmark <span class="op">=</span> <span class="st">"FTAW"</span>, retrieve_benchmark <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># retrieve FTSE All-World (R) from fund file</span></span>
<span><span class="op">}</span></span></code></pre>
<p>Index series retrieved in this way may have holes (e.g. fund domicile holidays and such) that can potentially remove data points for funds that did publish a NAV for that day (e.g. different domicile). The overall effect on plots is negligible, however. ### MSCI MSCI provides <a href="https://www-cdn.msci.com/web/msci/index-tools/end-of-day-index-data-search" class="external-link">end-of-day level downloads</a>. These can be imported by the provided <a href="https://stantraykov.github.io/fundsr/reference/msci.html" class="external-link"><code>msci()</code></a> function. ### FTSE &amp; Solactive These index providers make it more difficult to get index levels for free.</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h1>
<p>This project is provided for informational and analytical purposes (commentary and performance comparison). Charts and statistics shown are derived measures (e.g., tracking differences/return differentials) and are not intended to reproduce or redistribute underlying benchmark or index datasets. Any third-party material, where present, is shown only as necessary for identification and discussion and is provided as low-resolution raster images (not high-resolution or vector graphics) to prevent reuse as a substitute for source data. All trademarks and registered trademarks are the property of their respective owners. References to products, indices, and providers are for identification purposes only and do not imply endorsement or affiliation. Use is intended to fall within applicable copyright exceptions/limitations (such as quotation for criticism/review), to the extent permitted by law.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/StanTraykov/fundsr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/StanTraykov/fundsr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>Proprietary</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing fundsr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Stanislav Traykov <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Stanislav Traykov.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
