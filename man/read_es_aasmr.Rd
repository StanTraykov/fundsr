% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/life.R
\name{read_es_aasmr}
\alias{read_es_aasmr}
\title{Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr)}
\usage{
read_es_aasmr(directory)
}
\arguments{
\item{directory}{Directory containing \code{estat_proj_23naasmr.tsv.gz}.}
}
\value{
A tibble with columns:
\code{freq}, \code{projection}, \code{sex}, \code{unit}, \code{geo}, \code{age}, \code{Age}, \code{Year}, \code{mx}.
}
\description{
Reads the Eurostat TSV export for EUROPOP2023 age-specific mortality rate
assumptions (dataset \code{proj_23naasmr}), typically downloaded as
\code{estat_proj_23naasmr.tsv.gz}. Returns a tidy long table with metadata columns
plus numeric \code{Age}, \code{Year}, and \code{mx}.
}
\details{
Eurostat value flags (e.g. provisional/estimated markers) are tolerated: the
numeric part is parsed into \code{mx}, while missing values encoded as \code{:} are
returned as \code{NA}.

The Eurostat \code{age} dimension uses codes like \code{Y_LT1} (age < 1), \code{Y1} (age 1),
and \code{Y_GE85} (age 85+). This function maps \code{Y_LT1} to \code{Age = 0} and parses
\verb{Y\{n\}} and \verb{Y_GE\{n\}} to integer ages.
}
\examples{
\dontrun{
es_aasmr <- read_es_aasmr(file.path("data", "life"))
es_aasmr \%>\% dplyr::count(geo, sex, projection, sort = TRUE)
}
}
