% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/life.R
\name{read_life_table}
\alias{read_life_table}
\title{Read HMD period life tables (1x1) from disk}
\usage{
read_life_table(directory, sex = c("f", "m"), look_back = 20)
}
\arguments{
\item{directory}{Directory containing the HMD life table files (e.g.
\code{"mltper_1x1.txt"} / \code{"fltper_1x1.txt"} or \code{"mltper_1x1.txt"} / \code{"fltper_1x1.txt"}
depending on your naming convention). This function expects files named
\code{paste0(sex, "ltper_1x1.txt")}, where \code{sex} is \code{"m"} or \code{"f"}.}

\item{sex}{Sex code: \code{"m"} (male) or \code{"f"} (female).}

\item{look_back}{Number of most recent years to keep (inclusive of the latest
available year). Must be >= 1.}
}
\value{
A tibble with columns:
\code{PopName}, \code{Year}, \code{Age}, \code{mx}, \code{qx}, \code{ax}, \code{lx}, \code{dx}, \code{Lx}, \code{Tx}, \code{ex}.
\code{Age} is returned as integer.
}
\description{
Reads a Human Mortality Database (HMD) period life table file (1x1, by single
year of age) for the selected sex and returns only the last \code{look_back}
years based on the latest year present in the file. The open-ended age group
(e.g. \code{"110+"}) is parsed as its numeric lower bound (e.g. \code{110}).
}
\examples{
\dontrun{
lt_m <- read_life_table(file.path("data", "life"), sex = "m", look_back = 20)
lt_m \%>\% dplyr::distinct(PopName) \%>\% dplyr::arrange(PopName)
}
}
