% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fund_imp.R
\name{store_timeseries}
\alias{store_timeseries}
\title{Store a cached object in the package storage environment}
\usage{
store_timeseries(var_name, expr, fund_index_map = NULL, overwrite = FALSE)
}
\arguments{
\item{var_name}{Character scalar. Name of the variable to store in
\code{.fundsr_storage}.}

\item{expr}{An expression. Evaluated in the caller's environment when
(re)computing the cached value.}

\item{fund_index_map}{Optional named vector or list. Fund/index pairs to merge
into \code{.fundsr$fund_index_map}. Names are used as keys.}

\item{overwrite}{Logical scalar. If \code{TRUE}, recompute and replace any existing
cached value, regardless of \code{fundsr.reload}.}
}
\value{
Invisibly returns \code{NULL} (called for its side effects).
}
\description{
Evaluate an expression and cache its result in the package storage
environment (\code{.fundsr_storage}) under a given name. The expression is only
re-evaluated when the cached value is missing, when \code{overwrite = TRUE}, or
when the global option \code{fundsr.reload} is \code{TRUE}. Optionally merges additional
fund/index mappings into \code{.fundsr$fund_index_map}.
}
\details{
\code{expr} is evaluated in the environment where \code{store_timeseries()} is called
(i.e. the caller's environment), then assigned into \code{.fundsr_storage} under
\code{var_name}.

Caching behavior is controlled by:
\itemize{
\item \code{overwrite = TRUE} (always recompute),
\item \code{options(fundsr.reload = TRUE)} (force recomputation globally), or
\item absence of \code{var_name} in \code{.fundsr_storage} (compute once).
}

If \code{fund_index_map} is supplied, it is merged into \code{.fundsr$fund_index_map}
via name-based assignment: existing entries with the same names are replaced.
}
\seealso{
Other fund/index workflow functions: 
\code{\link{add_data_loader}()},
\code{\link{build_all_series}()},
\code{\link{clear_data_loaders}()},
\code{\link{clear_storage}()},
\code{\link{get_storage}()},
\code{\link{join_env}()},
\code{\link{load_fund}()},
\code{\link{run_data_loaders}()}
}
\concept{fund/index workflow functions}
