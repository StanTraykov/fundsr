[{"path":"https://stantraykov.github.io/fundsr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Stanislav Traykov Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://stantraykov.github.io/fundsr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Stanislav Traykov. Author, maintainer.","code":""},{"path":"https://stantraykov.github.io/fundsr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Traykov S (2025). fundsr: UCITS ETF rolling differences (CAGR, log), liquidity, financial planning plots. R package version 0.1.0.9000, https://stantraykov.github.io/fundsr/.","code":"@Manual{,   title = {fundsr: UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots},   author = {Stanislav Traykov},   year = {2025},   note = {R package version 0.1.0.9000},   url = {https://stantraykov.github.io/fundsr/}, }"},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"overview","dir":"","previous_headings":"","what":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"fundsr imports fund NAVs index levels creates tracking difference plots (CAGR log-return). Plotting Xetra liquidity data (XLM) also supported.","code":""},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"","code":"# install.packages(\"pak\")  # Stable (latest release): pak::pak(\"StanTraykov/fundsr@*release\")  # Development: pak::pak(\"StanTraykov/fundsr\")"},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"Intro vignette contains simple walkthrough comparing IUSQ SPYY (data setup needed) glob_funds.R comprehensive example featuring global funds requiring index & fund data download outside package all_funds.R all_funds-GR.R feature many funds analysis vs net/gross benchmark Reference","code":""},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"importing-data","dir":"","previous_headings":"","what":"Importing data","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"Fund index data stored fundsr’s storage environment tibbles / dfs date columns one value columns. Index level columns must upppercase (e.g. ACWI, FTAW). Fund NAV columns must lowercase (e.g. spyy, vwce).","code":""},{"path":[]},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"supported-formats-amundi-hsbc-invesco-ishares-spdr-ubs-vanguard-xtrackers","dir":"","previous_headings":"Funds","what":"Supported formats (Amundi, HSBC, Invesco, iShares, SPDR, UBS, Vanguard, Xtrackers)","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"Fund providers allow downloading NAV history Excel format (even ’s sometimes incomplete). iShares SPDR downloads can automated easily fundsr supports via add_fund_urls() download_fund_data() functions—see intro vignette info. others, manual downloads (non-trivial automation) seem necessary. case, fund .xls .xlsx file must made available fundsr data directory. filename matches ticker (e.g. FWRA.xlsx) can imported without specifying file.","code":"add_data_loader(function () { inve(\"FWRA\", benchmark = \"FTAW\") amun(\"WEBN\", benchmark = \"GMLM\", file = \"NAV History_Amundi Prime All Country World UCITS ETF Acc_IE0003XJA0J9_10_06_2024.xlsx\") } run_data_loaders()"},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"other-funds","dir":"","previous_headings":"Funds","what":"Other funds","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"Prepare tibble/dataframe CSV file date column one data columns must lowercase funds (e.g. sxr8, vwce, spyy) uppercase indices (e.g. SP500, FTAW, ACWI). Suppose dataframe funds_data fund NAVs CSV file index levels. can import via: Note: Dates CSV file must Unix epoch timestamps (second millisecond precision), see read_timeseries(). dates another format, get data via readr::read_csv() ensure dates parsed either via read_csv’s col_types argument later (e.g. mutate using lubridate::parse_date_time()).","code":"add_data_loader(function() {     fi_map <- c(         fwra = \"FTAW\",         webn = \"GMLM\",         vwce = \"FTAW\",          spyy = \"ACWI\",         spyi = \"ACWI_IMI\",         iusq = \"ACWI\")     store_timeseries(\"funds\", funds_data, fund_index_map = fi_map)     store_timeseries(\"indices\", read_timeseries(\"indices.csv\", time_unit = \"ms\")) }) run_data_loaders()"},{"path":[]},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"from-fund-files","dir":"","previous_headings":"Indices","what":"From fund files","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"fund providers’ files include index series. can retrieved importing fund (supported iShares, Xtrackers, Invesco), e.g. Index series retrieved way may holes (e.g. fund domicile holidays ) can potentially remove data points funds publish NAV day (e.g. different domicile). overall effect plots negligible, however.","code":"add_data_loader(function() {     spdr(\"SPYY\", benchmark = \"ACWI\")     ishs(\"IUSQ\", benchmark = \"ACWI\", retrieve_benchmark = TRUE) # retrieve ACWI (R) from fund file     inve(\"FWRA\", benchmark = \"FTAW\", retrieve_benchmark = TRUE) # retrieve FTSE All-World (R) from fund file })"},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"msci","dir":"","previous_headings":"Indices","what":"MSCI","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"MSCI provides end--day level downloads. can imported provided msci() function.","code":""},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"ftse--solactive","dir":"","previous_headings":"Indices","what":"FTSE & Solactive","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"index providers make difficult get index levels free.","code":""},{"path":"https://stantraykov.github.io/fundsr/index.html","id":"disclaimer","dir":"","previous_headings":"","what":"Disclaimer","title":"UCITS ETF rolling differences (CAGR, log), liquidity, and other financial planning plots","text":"project provided informational analytical purposes (commentary performance comparison). Charts statistics shown derived measures (e.g., tracking differences/return differentials) intended reproduce redistribute underlying benchmark index datasets. third-party material, present, shown necessary identification discussion provided low-resolution raster images (high-resolution vector graphics) prevent reuse substitute source data. trademarks registered trademarks property respective owners. References products, indices, providers identification purposes imply endorsement affiliation. Use intended fall within applicable copyright exceptions/limitations (quotation criticism/review), extent permitted law.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_data_loader.html","id":null,"dir":"Reference","previous_headings":"","what":"Register a data loader — add_data_loader","title":"Register a data loader — add_data_loader","text":"Appends fun internal data-loader registry (.fundsr$data_loaders). Registered functions intended run sequentially registration order.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_data_loader.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Register a data loader — add_data_loader","text":"","code":"add_data_loader(fun)"},{"path":"https://stantraykov.github.io/fundsr/reference/add_data_loader.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Register a data loader — add_data_loader","text":"fun function register. Must take arguments.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_data_loader.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Register a data loader — add_data_loader","text":"Invisibly returns updated .fundsr$data_loaders list.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_data_loader.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Register a data loader — add_data_loader","text":"loader function body already registered, fun added .","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_data_loader.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Register a data loader — add_data_loader","text":"","code":"add_data_loader(function() NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/add_fund_urls.html","id":null,"dir":"Reference","previous_headings":"","what":"Add entries to the fund download list — add_fund_urls","title":"Add entries to the fund download list — add_fund_urls","text":"Adds one named download specifications fundsr.fund_urls option. Existing entries preserved; entries x replace existing entries name.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_fund_urls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add entries to the fund download list — add_fund_urls","text":"","code":"add_fund_urls(x)"},{"path":"https://stantraykov.github.io/fundsr/reference/add_fund_urls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add entries to the fund download list — add_fund_urls","text":"x named character vector mapping download identifiers URLs.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_fund_urls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add entries to the fund download list — add_fund_urls","text":"list previous value fundsr.fund_urls.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/add_fund_urls.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add entries to the fund download list — add_fund_urls","text":"Names normalised uppercase storing.","code":""},{"path":[]},{"path":"https://stantraykov.github.io/fundsr/reference/amun.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an Amundi fund — amun","title":"Import an Amundi fund — amun","text":"Wrapper around load_fund() Amundi files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/amun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an Amundi fund — amun","text":"","code":"amun(ticker, file = NULL, benchmark = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/amun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an Amundi fund — amun","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute conditional survival (chance alive) by age — chance_alive","title":"Compute conditional survival (chance alive) by age — chance_alive","text":"Computes conditional probability alive age x >= age0, given survival age0, HMD-style period life table. year, returned series : chance_alive(x | age0) = lx(x) / lx(age0).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute conditional survival (chance alive) by age — chance_alive","text":"","code":"chance_alive(lt, pop_name, age0)"},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute conditional survival (chance alive) by age — chance_alive","text":"lt life table tibble returned read_life_table(), containing least PopName, Year, Age, lx. pop_name Population code (HMD PopName) filter within lt (e.g. \"BGR\", \"USA\", \"DEUTNP\"). age0 Baseline age (integer). Returned ages start age0.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute conditional survival (chance alive) by age — chance_alive","text":"tibble columns Year, Age, chance_alive, sorted Year Age.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute conditional survival (chance alive) by age — chance_alive","text":"","code":"if (FALSE) { # \\dontrun{ lt_m <- read_life_table(file.path(\"data\", \"life\"), sex = \"m\", look_back = 10) ca <- chance_alive(lt_m, pop_name = \"BGR\", age0 = 27) ca } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive_es_aasmr.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","title":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","text":"Computes conditional survival (chance alive) person aged age0 start_year using Eurostat EUROPOP2023 age-specific mortality rate assumptions (dataset proj_23naasmr). computation follows cohort path (diagonal): age age0 + k uses mortality rate year start_year + k.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive_es_aasmr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","text":"","code":"chance_alive_es_aasmr(es, geo, sex, age0, start_year = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive_es_aasmr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","text":"es tibble returned read_es_aasmr(). geo Eurostat geo code (e.g. \"BG\", \"NL\"). sex Sex code: \"m\" \"f\" (case-insensitive). age0 Baseline age (integer). start_year Starting calendar year (integer). NULL, uses earliest year available selected geo/sex.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive_es_aasmr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","text":"tibble columns geo, sex, projection, Year, Age, mx, qx, chance_alive.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive_es_aasmr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","text":"result includes two projection variants: baseline (BSL) lower mortality (LMRT).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/chance_alive_es_aasmr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute cohort-style survival from Eurostat EUROPOP2023 mortality assumptions — chance_alive_es_aasmr","text":"","code":"if (FALSE) { # \\dontrun{ es <- read_es_aasmr(file.path(\"data\", \"life\")) ca <- chance_alive_es_aasmr(es, geo = \"NL\", sex = \"m\", age0 = 42, start_year = 2022) p <- plot_chance_alive_es_aasmr(ca, sex = \"m\", population = \"NL\") p } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/clear_data_loaders.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear registered data loaders — clear_data_loaders","title":"Clear registered data loaders — clear_data_loaders","text":"Clears internal data-loader registry (.fundsr$data_loaders), removing previously registered data loader functions.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_data_loaders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear registered data loaders — clear_data_loaders","text":"","code":"clear_data_loaders()"},{"path":"https://stantraykov.github.io/fundsr/reference/clear_data_loaders.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear registered data loaders — clear_data_loaders","text":"Invisibly returns NULL. Called side effects.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_data_loaders.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear registered data loaders — clear_data_loaders","text":"","code":"clear_data_loaders()"},{"path":"https://stantraykov.github.io/fundsr/reference/clear_inkscape_queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear queued Inkscape exports — clear_inkscape_queue","title":"Clear queued Inkscape exports — clear_inkscape_queue","text":"Clears internal Inkscape export queue (.fundsr$inkscape_queue), removing queued export commands.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_inkscape_queue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear queued Inkscape exports — clear_inkscape_queue","text":"","code":"clear_inkscape_queue()"},{"path":"https://stantraykov.github.io/fundsr/reference/clear_inkscape_queue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear queued Inkscape exports — clear_inkscape_queue","text":"Invisibly returns NULL. Called side effects.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_inkscape_queue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear queued Inkscape exports — clear_inkscape_queue","text":"","code":"clear_inkscape_queue()"},{"path":"https://stantraykov.github.io/fundsr/reference/clear_storage.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear storage — clear_storage","title":"Clear storage — clear_storage","text":"Removes objects package's storage environment (.fundsr_storage). Optionally also clears fund/index map (.fundsr$fund_index_map).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_storage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear storage — clear_storage","text":"","code":"clear_storage(clear_fund_index_map = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/clear_storage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear storage — clear_storage","text":"clear_fund_index_map Logical scalar; TRUE, also clears .fundsr$fund_index_map.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_storage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear storage — clear_storage","text":"Invisibly returns NULL. Called side effects.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/clear_storage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear storage — clear_storage","text":"","code":"clear_storage() clear_storage(clear_fund_index_map = TRUE)"},{"path":"https://stantraykov.github.io/fundsr/reference/coalesce_join_suffixes.html","id":null,"dir":"Reference","previous_headings":"","what":"Coalesce suffixed join columns into unsuffixed base columns — coalesce_join_suffixes","title":"Coalesce suffixed join columns into unsuffixed base columns — coalesce_join_suffixes","text":"Helper post-processing join results use suffixes .x / .y. base name appears suffixes (e.g. FTAW.x FTAW.y), function creates new column FTAW dplyr::coalesce(FTAW.x, FTAW.y) drops suffixed columns. order suffix controls column preferred.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/coalesce_join_suffixes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coalesce suffixed join columns into unsuffixed base columns — coalesce_join_suffixes","text":"","code":"coalesce_join_suffixes(df, suffix = c(\".x\", \".y\"))"},{"path":"https://stantraykov.github.io/fundsr/reference/coalesce_join_suffixes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coalesce suffixed join columns into unsuffixed base columns — coalesce_join_suffixes","text":"df data frame tibble produced joins. suffix Character vector length 2 giving suffixes coalesce, priority order. example, c(\".x\", \".y\") uses .x primary source falls back .y .x NA.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/coalesce_join_suffixes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coalesce suffixed join columns into unsuffixed base columns — coalesce_join_suffixes","text":"tibble rows df, pairs suffixed columns (e.g. name.x / name.y) replaced single unsuffixed column (e.g. name) containing coalesced values.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/download_fund_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download fund data according to the configured download list — download_fund_data","title":"Download fund data according to the configured download list — download_fund_data","text":"Retrieves fund data files listed fundsr.fund_urls option saves directory specified fundsr.data_dir.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/download_fund_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download fund data according to the configured download list — download_fund_data","text":"","code":"download_fund_data(redownload = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/download_fund_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download fund data according to the configured download list — download_fund_data","text":"redownload Logical; TRUE, existing files overwritten. FALSE, missing files downloaded.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/download_fund_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download fund data according to the configured download list — download_fund_data","text":"Invisibly returns NULL. Files written side effect.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/export_pngs.html","id":null,"dir":"Reference","previous_headings":"","what":"Export queued SVG files to PNG using Inkscape — export_pngs","title":"Export queued SVG files to PNG using Inkscape — export_pngs","text":"Processes pending items internal Inkscape export queue invokes Inkscape generate PNG files previously saved SVGs.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/export_pngs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export queued SVG files to PNG using Inkscape — export_pngs","text":"","code":"export_pngs()"},{"path":"https://stantraykov.github.io/fundsr/reference/export_pngs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export queued SVG files to PNG using Inkscape — export_pngs","text":"exit status returned system call Inkscape. Invisibly returns NULL items queued.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/export_pngs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Export queued SVG files to PNG using Inkscape — export_pngs","text":"function collects queued Inkscape actions stored .fundsr$inkscape_queue, constructs single Inkscape command using executable specified fundsr.inkscape option, executes via system(). success, queue cleared. failure, queue preserved message printed.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/fundsr_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Set fundsr package options — fundsr_options","title":"Set fundsr package options — fundsr_options","text":"Convenience wrapper around options() setting common fundsr.* options.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/fundsr_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set fundsr package options — fundsr_options","text":"","code":"fundsr_options(   data_dir = NULL,   out_dir = NULL,   px_width = NULL,   internal_png = NULL,   export_svg = NULL,   xetra_map = NULL,   inkscape = NULL,   reload = NULL,   fund_urls = NULL )"},{"path":"https://stantraykov.github.io/fundsr/reference/fundsr_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set fundsr package options — fundsr_options","text":"data_dir Directory containing fund data files (sets fundsr.data_dir). out_dir Output directory plots/exports (sets fundsr.out_dir). px_width Default PNG export width pixels (sets fundsr.px_width). internal_png Logical; whether save internal PNG immediately exporting plots (sets fundsr.internal_png). export_svg Logical; whether save SVGs queue Inkscape exports (sets fundsr.export_svg). xetra_map Named character vector mapping “primary” tickers Xetra tickers (sets fundsr.xetra_map). inkscape Inkscape executable (path command name) used export helpers (sets fundsr.inkscape). reload Logical; default value forcing re-import cached objects (sets fundsr.reload). fund_urls Named character vector named list URLs fund data downloads (sets fundsr.fund_urls).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/fundsr_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set fundsr package options — fundsr_options","text":"Invisibly returns named list previous values options changed (returned options()).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/fundsr_options.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set fundsr package options — fundsr_options","text":"arguments default NULL. argument left NULL, corresponding fundsr.* option left unchanged.","code":""},{"path":[]},{"path":"https://stantraykov.github.io/fundsr/reference/get_fund_index_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the internal fund index map — get_fund_index_map","title":"Get the internal fund index map — get_fund_index_map","text":"Returns package's fund index lookup table stored .fundsr$fund_index_map.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/get_fund_index_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the internal fund index map — get_fund_index_map","text":"","code":"get_fund_index_map()"},{"path":"https://stantraykov.github.io/fundsr/reference/get_fund_index_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the internal fund index map — get_fund_index_map","text":"character vector named list representing internal fund index mapping.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/get_storage.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the internal fund storage — get_storage","title":"Get the internal fund storage — get_storage","text":"Returns fundsr's fund storage environment (.fundsr_storage).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/get_storage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the internal fund storage — get_storage","text":"","code":"get_storage()"},{"path":"https://stantraykov.github.io/fundsr/reference/get_storage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the internal fund storage — get_storage","text":"storage environment.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/hsbc.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an HSBC fund — hsbc","title":"Import an HSBC fund — hsbc","text":"Wrapper around load_fund() HSBC files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/hsbc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an HSBC fund — hsbc","text":"","code":"hsbc(ticker, file = NULL, benchmark = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/hsbc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an HSBC fund — hsbc","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/inve.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an Invesco fund — inve","title":"Import an Invesco fund — inve","text":"Wrapper around load_fund() Invesco files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/inve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an Invesco fund — inve","text":"","code":"inve(ticker, file = NULL, benchmark = NULL, retrieve_benchmark = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/inve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an Invesco fund — inve","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key. retrieve_benchmark Logical; also import benchmark column.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/ishs.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an iShares fund — ishs","title":"Import an iShares fund — ishs","text":"Wrapper around load_fund() iShares files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/ishs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an iShares fund — ishs","text":"","code":"ishs(ticker, file = NULL, benchmark = NULL, retrieve_benchmark = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/ishs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an iShares fund — ishs","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key. retrieve_benchmark Logical; also import benchmark column.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/join_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Join all tibbles in an environment with optional late left-joins — join_env","title":"Join all tibbles in an environment with optional late left-joins — join_env","text":"Performs dplyr::full_join() across objects environment, except listed late. Objects listed late instead joined afterwards using dplyr::left_join() order given. Optionally, columns created join suffixes (.x / .y) can automatically coalesced single unsuffixed columns.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/join_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Join all tibbles in an environment with optional late left-joins — join_env","text":"","code":"join_env(env, by, late = NULL, coalesce_suffixed = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/join_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Join all tibbles in an environment with optional late left-joins — join_env","text":"env Environment containing tibbles join. Character vector join keys (passed dplyr::full_join()). late Character vector object names env excluded initial full join instead left-joined afterwards. Defaults NULL. coalesce_suffixed Optional character vector length 2 giving join suffixes coalesce (example, c(\".x\", \".y\") c(\".y\", \".x\")). non-NULL, pairs columns whose names end suffixes (share base name) replaced single unsuffixed column containing coalesced values. NULL (default), automatic coalescing performed.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/join_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Join all tibbles in an environment with optional late left-joins — join_env","text":"tibble: full join non-late objects, followed sequential left-joins late objects. coalesce_suffixed supplied, suffixed join columns coalesced unsuffixed base columns described .","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/join_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Join all tibbles in an environment with optional late left-joins — join_env","text":"helper designed workflows majority tables fully joined, certain sparse auxiliary tables (e.g. calendars, metadata) attached via left_join(). coalesce_suffixed provided, function uses internal helper replace pairs like name.x / name.y single name column whose values taken first suffix coalesce_suffixed , missing, second. name late exist env, ignored warning.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/join_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Join all tibbles in an environment with optional late left-joins — join_env","text":"","code":"if (FALSE) { # \\dontrun{   e <- new.env()   e$a <- tibble::tibble(date = 1:3, x = 1:3)   e$b <- tibble::tibble(date = 1:3, x = c(NA, 20, 30))    # Simple full join of a and b   join_env(e, by = \"date\")    # Full join with automatic coalescing of x.x / x.y into x   join_env(e, by = \"date\", coalesce_suffixed = c(\".x\", \".y\")) } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/load_fund.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a fund's NAV data and optionally register its benchmark mapping — load_fund","title":"Load a fund's NAV data and optionally register its benchmark mapping — load_fund","text":"Imports fund's NAV time series Excel file stores storage environment via store_timeseries(). Optionally, benchmark column can also imported, fund/index mapping recorded .fundsr$fund_index_map.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/load_fund.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a fund's NAV data and optionally register its benchmark mapping — load_fund","text":"","code":"load_fund(   ticker,   file = NULL,   data_sheet = 1,   date_col = \"^Date\",   nav_col = \"^NAV\",   benchmark = NULL,   benchmark_col = NULL,   retrieve_benchmark = FALSE,   date_order = \"dmy\" )"},{"path":"https://stantraykov.github.io/fundsr/reference/load_fund.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a fund's NAV data and optionally register its benchmark mapping — load_fund","text":"ticker Fund ticker symbol. Used (lower case) storage key (upper case) derive default filename. file Optional filename. NULL (default), inferred ticker described . data_sheet Sheet index name containing NAV data. Defaults 1. date_col Regular expression identifying date column. Defaults \"^Date\". nav_col Regular expression identifying fund's NAV column. Defaults \"^NAV\". benchmark Optional benchmark key fund associated fund/index map. retrieve_benchmark = TRUE, value also used name benchmark series imported. benchmark_col Regular expression identifying benchmark column Excel sheet. used retrieve_benchmark = TRUE. retrieve_benchmark Logical; TRUE, benchmark benchmark_col must supplied benchmark column imported alongside fund. date_order Date parsing order passed importer. Defaults \"dmy\".","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/load_fund.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load a fund's NAV data and optionally register its benchmark mapping — load_fund","text":"Invisibly returns NULL. imported data stored .fundsr_storage tolower(ticker). fund/index mapping recorded .fundsr$fund_index_map benchmark supplied.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/load_fund.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load a fund's NAV data and optionally register its benchmark mapping — load_fund","text":"file NULL, function searches getOption(\"fundsr.data_dir\") exactly one paste0(toupper(ticker), \".xlsx\") paste0(toupper(ticker), \".xls\"). function builds column-translation mapping fund NAV column , requested, benchmark column. calls import_xl_data() read Excel file store_timeseries() cache imported object tolower(ticker). benchmark provided, corresponding entry added .fundsr$fund_index_map link fund benchmark key.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/make_date_fmts.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate candidate date format strings for as.Date() — make_date_fmts","title":"Generate candidate date format strings for as.Date() — make_date_fmts","text":"Builds set possible format strings suitable .Date() given day/month/year order. intended fast \"detect per sheet, parse \" workflows.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/make_date_fmts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate candidate date format strings for as.Date() — make_date_fmts","text":"","code":"make_date_fmts(order)"},{"path":"https://stantraykov.github.io/fundsr/reference/make_date_fmts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate candidate date format strings for as.Date() — make_date_fmts","text":"order single string specifying component order permutation \"d\", \"m\", \"y\" (e.g. \"dmy\", \"mdy\", \"ymd\").","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/make_date_fmts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate candidate date format strings for as.Date() — make_date_fmts","text":"character vector unique date format strings.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/make_date_fmts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate candidate date format strings for as.Date() — make_date_fmts","text":"returned formats cover common separators (\"/\", \"-\", \".\", \" \") 4-digit (%Y) 2-digit (%y) years. Month tokens include numeric months (%m) abbreviated month names (%b). Full month names (%B) excluded.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/msci.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an MSCI index sheet and register benchmark mappings — msci","title":"Import an MSCI index sheet and register benchmark mappings — msci","text":"Wrapper around store_timeseries() import_xl_data() MSCI index files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/msci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an MSCI index sheet and register benchmark mappings — msci","text":"","code":"msci(var_name, col_trans, benchmarks = NULL, file)"},{"path":"https://stantraykov.github.io/fundsr/reference/msci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an MSCI index sheet and register benchmark mappings — msci","text":"var_name Storage key used .fundsr_storage. col_trans Named vector specifying column translations. benchmarks Optional index mapping record fund index map (used map gross net indices). file Filename XLSX file import.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/msci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import an MSCI index sheet and register benchmark mappings — msci","text":"Invisibly returns NULL. Data stored via store_timeseries().","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot chance alive by age — plot_chance_alive","title":"Plot chance alive by age — plot_chance_alive","text":"Plots conditional survival curves produced chance_alive(). recent year highlighted black; earlier years shown teal--orange--light gradient. Horizontal reference lines mark 10% 5% survival levels.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot chance alive by age — plot_chance_alive","text":"","code":"plot_chance_alive(ca, sex = c(\"m\", \"f\"), population)"},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot chance alive by age — plot_chance_alive","text":"ca tibble returned chance_alive(), columns Year, Age, chance_alive. sex Sex code: \"m\" (male) \"f\" (female). Used labeling. population Population label/code display subtitle (e.g. \"BGR\", \"USA\", \"DEUTNP\").","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot chance alive by age — plot_chance_alive","text":"ggplot object.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot chance alive by age — plot_chance_alive","text":"","code":"if (FALSE) { # \\dontrun{ lt_m <- read_life_table(file.path(\"data\", \"life\"), sex = \"m\", look_back = 10) ca <- chance_alive(lt_m, pop_name = \"BGR\", age0 = 27) p <- plot_chance_alive(ca, sex = \"m\", population = \"BGR\") p } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive_es_aasmr.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot cohort-style survival from Eurostat EUROPOP2023 assumptions — plot_chance_alive_es_aasmr","title":"Plot cohort-style survival from Eurostat EUROPOP2023 assumptions — plot_chance_alive_es_aasmr","text":"Plots conditional survival curves returned chance_alive_es_aasmr(). baseline projection (BSL) shown black lower-mortality variant (LMRT) shown dark cyan.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive_es_aasmr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot cohort-style survival from Eurostat EUROPOP2023 assumptions — plot_chance_alive_es_aasmr","text":"","code":"plot_chance_alive_es_aasmr(ca, sex = c(\"m\", \"f\"), population)"},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive_es_aasmr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot cohort-style survival from Eurostat EUROPOP2023 assumptions — plot_chance_alive_es_aasmr","text":"ca tibble returned chance_alive_es_aasmr(), columns projection, Age, chance_alive (typically geo, sex, Year). sex Sex code: \"m\" \"f\" (case-insensitive). Used labeling. population Population label/code display subtitle (e.g. \"BG\").","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive_es_aasmr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot cohort-style survival from Eurostat EUROPOP2023 assumptions — plot_chance_alive_es_aasmr","text":"ggplot object.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_chance_alive_es_aasmr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot cohort-style survival from Eurostat EUROPOP2023 assumptions — plot_chance_alive_es_aasmr","text":"","code":"if (FALSE) { # \\dontrun{ es_aasmr <- read_es_aasmr(file.path(\"data\", \"life\")) ca <- chance_alive_es_aasmr(es_aasmr, geo = \"BG\", sex = \"m\", age0 = 42, start_year = 2022) p <- plot_chance_alive_es_aasmr(ca, sex = \"m\", population = \"BG\") p } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/plot_roll_diffs.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot rolling return differences against benchmark — plot_roll_diffs","title":"Plot rolling return differences against benchmark — plot_roll_diffs","text":"Plots rolling annualized tracking differences (CAGR-style log-return) selected funds benchmark series. plot uses quantile-based y-limits formats y-axis basis points.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_roll_diffs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot rolling return differences against benchmark — plot_roll_diffs","text":"","code":"plot_roll_diffs(   data,   n_days,   funds,   use_log = FALSE,   gg_params = NULL,   title_add = NULL,   date_brk = NULL,   qprob = c(0.005, 0.995),   bmark_type = c(\"net\", \"gross\") )"},{"path":"https://stantraykov.github.io/fundsr/reference/plot_roll_diffs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot rolling return differences against benchmark — plot_roll_diffs","text":"data Input data frame containing date column one rolling-difference column per fund, named <fund>_rd. n_days Window length (days) used compute rolling differences (used labelling). funds Character vector fund tickers/column prefixes include. use_log Logical; TRUE, labels plot log-return differences. FALSE, labels plot CAGR differences. gg_params Optional ggplot components add plot. title_add Optional title suffix. Can single string named character vector specifying title multiple languages (e.g. c(en=..., bg=...)). date_brk Optional date-break specification x-axis (e.g. \"3 months\"). NULL, chosen automatically based time span. qprob Two-element numeric vector giving lower upper quantiles used set baseline y-axis limits. Defaults c(0.005, 0.995). bmark_type Benchmark type used title: \"net\" \"gross\".","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_roll_diffs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot rolling return differences against benchmark — plot_roll_diffs","text":"ggplot object.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_roll_diffs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot rolling return differences against benchmark — plot_roll_diffs","text":"function reshapes data long format produces scatter plot coloured fund. y-axis limits primarily determined quantiles rolling differences (specified qprob), always including 0. avoid clipping recent extremes, y-limits expanded (needed) also include full range observed recent 30 days data, even values fall outside qprob quantiles.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_xlms.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","title":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","text":"Generates time-series plot XLM values one ETFs, optional back-translation displayed ticker labels via fundsr.xetra_map option.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_xlms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","text":"","code":"plot_xlms(xlm_data, tickers, rgx = FALSE, gg_params = NULL, back_trans = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/plot_xlms.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","text":"xlm_data data frame containing XLM observations, including columns date, xlm, ticker, name. tickers Character vector tickers plot, pattern rgx = TRUE. rgx Logical; TRUE, tickers treated regular expression matched name column; otherwise matched ticker column. gg_params Optional list additional ggplot components (themes, scales, labels) added base plot. back_trans Logical; TRUE, replaces values ticker column filtering using inverse mapping stored fundsr.xetra_map option. affects displayed (legend labels color grouping), rows selected.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_xlms.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","text":"ggplot object showing XLM time-series curves.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_xlms.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","text":"rgx = FALSE, data filtered matching tickers ticker column. rgx = TRUE, tickers treated regular expression matched name column. back_trans = TRUE, function reads getOption(\"fundsr.xetra_map\"), expected named character vector mapping internal identifiers Xetra tickers, example: c(fwra = \"fwia\", acwi = \"lyy0\"). mapping inverted applied already-filtered data occurrences Xetra tickers plotted data replaced internal identifiers plot's legend grouping.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/plot_xlms.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Xetra Liquidity Measure (XLM) time series — plot_xlms","text":"","code":"if (FALSE) { # \\dontrun{ options(fundsr.xetra_map = c(fwra = \"fwia\", acwi = \"lyy0\", iwda = \"eunl\", cw8 = \"amew\"))  # Filter by tickers as they appear in xlm_data$ticker, but display back-translated labels plot_xlms(xlm_data, tickers = c(\"fwia\", \"eunl\"), back_trans = TRUE)  # Regex match against the `name` column # (back-translation, if enabled, still happens after filtering) plot_xlms(xlm_data, tickers = \"MSCI World\", rgx = TRUE, back_trans = TRUE) } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/read_es_aasmr.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","title":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","text":"Reads Eurostat TSV export EUROPOP2023 age-specific mortality rate assumptions (dataset proj_23naasmr), typically downloaded estat_proj_23naasmr.tsv.gz. Returns tidy long table metadata columns plus numeric Age, Year, mx.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_es_aasmr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","text":"","code":"read_es_aasmr(directory)"},{"path":"https://stantraykov.github.io/fundsr/reference/read_es_aasmr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","text":"directory Directory containing estat_proj_23naasmr.tsv.gz.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_es_aasmr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","text":"tibble columns: freq, projection, sex, unit, geo, age, Age, Year, mx.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_es_aasmr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","text":"Eurostat value flags (e.g. provisional/estimated markers) tolerated: numeric part parsed mx, missing values encoded : returned NA. Eurostat age dimension uses codes like Y_LT1 (age < 1), Y1 (age 1), Y_GE85 (age 85+). function maps Y_LT1 Age = 0 parses Y{n} Y_GE{n} integer ages.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_es_aasmr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read Eurostat EUROPOP2023 mortality-assumption table (proj_23naasmr) — read_es_aasmr","text":"","code":"if (FALSE) { # \\dontrun{ es_aasmr <- read_es_aasmr(file.path(\"data\", \"life\")) es_aasmr %>% dplyr::count(geo, sex, projection, sort = TRUE) } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/read_life_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Read HMD period life tables (1x1) from disk — read_life_table","title":"Read HMD period life tables (1x1) from disk — read_life_table","text":"Reads Human Mortality Database (HMD) period life table file (1x1, single year age) selected sex returns last look_back years based latest year present file. open-ended age group (e.g. \"110+\") parsed numeric lower bound (e.g. 110).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_life_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read HMD period life tables (1x1) from disk — read_life_table","text":"","code":"read_life_table(directory, sex = c(\"f\", \"m\"), look_back = 20)"},{"path":"https://stantraykov.github.io/fundsr/reference/read_life_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read HMD period life tables (1x1) from disk — read_life_table","text":"directory Directory containing HMD life table files (\"mltper_1x1.txt\" / \"fltper_1x1.txt\" gzipped variants \"mltper_1x1.txt.gz\" / \"fltper_1x1.txt.gz\"). sex Sex code: \"m\" (male) \"f\" (female). look_back Number recent years keep (inclusive latest available year). Must >= 1.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_life_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read HMD period life tables (1x1) from disk — read_life_table","text":"tibble columns: PopName, Year, Age, mx, qx, ax, lx, dx, Lx, Tx, ex. Age returned integer.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_life_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read HMD period life tables (1x1) from disk — read_life_table","text":"","code":"if (FALSE) { # \\dontrun{ lt_m <- read_life_table(file.path(\"data\", \"life\"), sex = \"m\", look_back = 20) lt_m %>% dplyr::distinct(PopName) %>% dplyr::arrange(PopName) } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/read_msci_tsv.html","id":null,"dir":"Reference","previous_headings":"","what":"Read an MSCI two-column TSV file — read_msci_tsv","title":"Read an MSCI two-column TSV file — read_msci_tsv","text":"Extracts data portion MSCI TSV file—skipping header noise—reads two-column table containing date numeric value.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_msci_tsv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read an MSCI two-column TSV file — read_msci_tsv","text":"","code":"read_msci_tsv(file)"},{"path":"https://stantraykov.github.io/fundsr/reference/read_msci_tsv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read an MSCI two-column TSV file — read_msci_tsv","text":"file Filename TSV read (relative getOption(\"fundsr.data_dir\")).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_msci_tsv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read an MSCI two-column TSV file — read_msci_tsv","text":"tibble Date column one numeric column.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_msci_tsv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read an MSCI two-column TSV file — read_msci_tsv","text":"function filters lines beginning digit (date rows) literal \"Date\", parses using fixed %m/%d/%Y date format numeric second field.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a time series file (CSV/TSV) with a date + one or more value columns — read_timeseries","title":"Read a time series file (CSV/TSV) with a date + one or more value columns — read_timeseries","text":"Loads delimited file directory specified fundsr.data_dir, converts date column proper Date, coerces columns numeric.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a time series file (CSV/TSV) with a date + one or more value columns — read_timeseries","text":"","code":"read_timeseries(file, time_unit = c(\"ms\", \"s\", \"us\", \"ns\"))"},{"path":"https://stantraykov.github.io/fundsr/reference/read_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a time series file (CSV/TSV) with a date + one or more value columns — read_timeseries","text":"file Filename read (relative getOption(\"fundsr.data_dir\")). time_unit Character scalar giving unit numeric date column (Unix epoch). One \"ms\" (default), \"s\", \"us\", \"ns\".","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a time series file (CSV/TSV) with a date + one or more value columns — read_timeseries","text":"tibble parsed date numeric value columns.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_timeseries.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read a time series file (CSV/TSV) with a date + one or more value columns — read_timeseries","text":"reader chosen file extension: .csv uses readr::read_csv() .tsv/.tab/.txt uses readr::read_tsv(). Gzipped variants .csv.gz .tsv.gz also supported. function assumes column named date exists represents Unix timestamp. non-date columns coerced .numeric() (non-parsable values become NA).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_xlm_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Read and combine XLM data from multiple Xetra XLSX files — read_xlm_directory","title":"Read and combine XLM data from multiple Xetra XLSX files — read_xlm_directory","text":"Scans directory Xetra ETF XLSX files, extracts XLM column associated metadata, returns combined data frame standardized column names parsed dates.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_xlm_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read and combine XLM data from multiple Xetra XLSX files — read_xlm_directory","text":"","code":"read_xlm_directory(directory, header_rows = c(4, 5), col_types = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/read_xlm_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read and combine XLM data from multiple Xetra XLSX files — read_xlm_directory","text":"directory Directory containing XLSX files read. header_rows Integer vector indicating rows contain header information read_xlsx_hdr(). col_types Optional column type specification passed read_xlsx_hdr().","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_xlm_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read and combine XLM data from multiple Xetra XLSX files — read_xlm_directory","text":"data frame containing combined XLM records files directory.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/read_xlm_directory.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read and combine XLM data from multiple Xetra XLSX files — read_xlm_directory","text":"XLSX file processed read_xlsx_hdr(), filtered relevant XLM, ticker, product-name fields (stored columns xlm, ticker, name, date). Month–Year embedded XLM column name parsed used observation date.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/reset_state.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear fundsr session state — reset_state","title":"Clear fundsr session state — reset_state","text":"Convenience helper clears mutable internal fundsr state: fund storage (.fundsr_storage) fund-index map (.fundsr$fund_index_map), import-function registry (.fundsr$data_loaders), Inkscape export queue (.fundsr$inkscape_queue), XLM bookkeeping vector (.fundsr$done_xlm_sets).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/reset_state.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear fundsr session state — reset_state","text":"","code":"reset_state()"},{"path":"https://stantraykov.github.io/fundsr/reference/reset_state.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear fundsr session state — reset_state","text":"Invisibly returns NULL. Called side effects.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/reset_state.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear fundsr session state — reset_state","text":"","code":"reset_state()"},{"path":"https://stantraykov.github.io/fundsr/reference/roll_diffs.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute rolling annualized tracking differences (CAGR or log-return) — roll_diffs","title":"Compute rolling annualized tracking differences (CAGR or log-return) — roll_diffs","text":"fund–index pair fund_index_map, computes rolling, annualized tracking-difference series backward window n_days. result added new columns named <fund>_rd.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/roll_diffs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute rolling annualized tracking differences (CAGR or log-return) — roll_diffs","text":"","code":"roll_diffs(   df,   n_days,   fund_index_map,   date_col = \"date\",   use_log = TRUE,   index_level = c(\"net\", \"gross\"),   annual_days = 365,   silent_skip = FALSE,   gross_suffix = \"-GR\" )"},{"path":"https://stantraykov.github.io/fundsr/reference/roll_diffs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute rolling annualized tracking differences (CAGR or log-return) — roll_diffs","text":"df Data frame containing date column, fund columns, benchmark/index columns referenced fund_index_map. n_days Rolling lookback window calendar days. fund_index_map Named character vector mapping fund column names corresponding benchmark/index base column names. date_col Name date column df. Defaults \"date\". use_log Logical; TRUE, computes log-return tracking differences. FALSE, computes CAGR tracking differences. Defaults TRUE. index_level Character; index level use. One \"net\" \"gross\". \"gross\", gross_suffix appended mapped index base name lookup df. Defaults \"net\". annual_days Number days used annualization. Defaults 365. silent_skip Logical; whether suppress messages skipping fund–index pairs due missing columns self-tracking. Defaults FALSE. gross_suffix Character; suffix appended mapped index base name index_level = \"gross\". Defaults \"-GR\".","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/roll_diffs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute rolling annualized tracking differences (CAGR or log-return) — roll_diffs","text":"data frame like df one additional column per processed fund, named <fund>_rd, containing rolling tracking differences.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/roll_diffs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute rolling annualized tracking differences (CAGR or log-return) — roll_diffs","text":"fund–index pair, function locates anchor observation least n_days date (using last available non-missing fund+index point date - n_days) computes annualized tracking difference using elapsed calendar days \\(t - t_0\\). log-return difference $$ \\left[\\ln\\left(\\frac{f_t}{f_{t_0}}\\right) -          \\ln\\left(\\frac{i_t}{i_{t_0}}\\right)\\right] \\times          \\frac{annual\\_days}{t - t_0} $$ CAGR difference $$ \\left(\\frac{f_t}{f_{t_0}}\\right)^{annual\\_days/(t - t_0)} -          \\left(\\frac{i_t}{i_{t_0}}\\right)^{annual\\_days/(t - t_0)} $$ \\(f\\) \\(\\) fund index values, respectively. Pairs skipped (optionally message) fund column present df, corresponding index column present (applying index_level/gross_suffix), mapping implies self-tracking (fund column equals index column). tracking difference NA whenever anchor point missing, required values invalid (e.g., non-positive log mode), past observation lies far enough back satisfy lookback window.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_data_loaders.html","id":null,"dir":"Reference","previous_headings":"","what":"Run registered data loaders — run_data_loaders","title":"Run registered data loaders — run_data_loaders","text":"Runs data loader registry (.fundsr$data_loaders) populate (refresh) package's storage environment (.fundsr_storage).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_data_loaders.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run registered data loaders — run_data_loaders","text":"","code":"run_data_loaders(reload = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/run_data_loaders.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run registered data loaders — run_data_loaders","text":"reload Logical scalar. TRUE, forces full reload setting options(fundsr.reload = TRUE) duration call.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_data_loaders.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run registered data loaders — run_data_loaders","text":"Invisibly returns .fundsr_storage running data loaders.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_data_loaders.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run registered data loaders — run_data_loaders","text":"function temporarily sets fundsr.reload option data loaders can decide whether recompute cached objects. previous value getOption(\"fundsr.reload\") restored exit, even data loader errors. Data loaders taken .fundsr$data_loaders called sequentially registration order. registered function must take arguments.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate and export all configured rolling-difference plots — run_plots","title":"Generate and export all configured rolling-difference plots — run_plots","text":"Iterates plot specifications produces rolling-difference plots CAGR log-return variants. plot saved via save_plot(), optional XLM plots may also generated. generated plot objects stored environment returned.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate and export all configured rolling-difference plots — run_plots","text":"","code":"run_plots(   rds_cagr,   rds_log,   n_days,   plot_spec,   xlm_data = NULL,   add_gg_params = ggplot2::geom_blank(),   bmark_type = c(\"net\", \"gross\"),   suffix = \"\" )"},{"path":"https://stantraykov.github.io/fundsr/reference/run_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate and export all configured rolling-difference plots — run_plots","text":"rds_cagr Data frame containing rolling CAGR differences. rds_log Data frame containing rolling log-return differences. n_days Rolling-window length days (passed plot_roll_diffs() labelling). plot_spec data frame list data frames describing plot parameters. Expected columns include: plot_id, title, data_filter, gg_params, width, height, funds. xlm_data Optional data frame used produce XLM plots, including date, xlm, ticker, name columns. Defaults NULL. add_gg_params Optional ggplot component (list components) appended generated plot addition per-plot gg_params defined plot_spec. Defaults ggplot2::geom_blank(). bmark_type Benchmark type used plot titles: \"net\" \"gross\". suffix Character string appended plot_id constructing filenames names returned environment. Defaults \"\".","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_plots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate and export all configured rolling-difference plots — run_plots","text":"environment containing ggplot objects. Objects stored names corresponding base filenames used save_plot(): plot_id{suffix} CAGR variant, plot_id{suffix}_L log-return variant, (generated) xlm_plot_id{suffix} XLM plots.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_plots.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate and export all configured rolling-difference plots — run_plots","text":"row plot_spec, function constructs CAGR-based log-return-based variant using plot_roll_diffs() writes resulting plots via save_plot(), using filename suffix (_L) distinguish log-return variant. optional suffix appended plot_id filenames (environment keys) formed. plot_spec provided list data frames, function binds single specification. title column may provided list column (e.g. keep multilingual named vector single per-row value). xlm_data supplied, XLM plot generated per unique set Xetra tickers using plot_xlms(). Fund tickers mapped Xetra tickers via fundsr.xetra_map option (tickers present map used -). first plot specification encountered given ticker set determines base filename xlm_<plot_id{suffix}> used saving storing resulting XLM plot.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/run_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate and export all configured rolling-difference plots — run_plots","text":"","code":"if (FALSE) { # \\dontrun{ plots <- run_plots(rds_cagr, rds_log, n_days, plot_spec, xlm_data = xlm_data) plots[[\"global\"]] plots[[\"global_L\"]] plots[[\"xlm_global\"]] } # }"},{"path":"https://stantraykov.github.io/fundsr/reference/save_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Save a plot as SVG and optionally queue PNG export via Inkscape — save_plot","title":"Save a plot as SVG and optionally queue PNG export via Inkscape — save_plot","text":"save_svg = TRUE, saves plot SVG file appends Inkscape export command internal queue (.fundsr$inkscape_queue) PNG generation can performed later batch (via export_pngs()).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/save_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save a plot as SVG and optionally queue PNG export via Inkscape — save_plot","text":"","code":"save_plot(   file,   plot,   px_width = getOption(\"fundsr.px_width\", 1300),   height = 12,   width = 12,   units = \"in\",   out_dir = getOption(\"fundsr.out_dir\", \"output\"),   save_png = getOption(\"fundsr.internal_png\", FALSE),   save_svg = getOption(\"fundsr.export_svg\", TRUE) )"},{"path":"https://stantraykov.github.io/fundsr/reference/save_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save a plot as SVG and optionally queue PNG export via Inkscape — save_plot","text":"file Base filename (without extension) used output files. plot plot object (typically ggplot) saved. px_width Width pixels queued Inkscape PNG export, (save_png = TRUE) target PNG pixel width used compute DPI. Defaults getOption(\"fundsr.px_width\", 1300). height Height saved plot units. Defaults 12. width Width saved plot units. Defaults 12. units Units width/height (e.g. \"\"). Defaults \"\". Note: immediate PNG saving, \"\", \"cm\", \"mm\" supported (compute DPI px_width). out_dir Output directory files written. Defaults getOption(\"fundsr.out_dir\", \"output\"). save_png Logical scalar; TRUE, also saves PNG immediately. Defaults getOption(\"fundsr.internal_png\", FALSE). save_svg Logical scalar; TRUE, saves SVG queues Inkscape export command. Defaults getOption(\"fundsr.export_svg\", TRUE).","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/save_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save a plot as SVG and optionally queue PNG export via Inkscape — save_plot","text":"Invisibly returns NULL. Called side effects.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/save_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Save a plot as SVG and optionally queue PNG export via Inkscape — save_plot","text":"Optionally, save_png = TRUE, function also saves PNG immediately via ggplot2::ggsave() (independently queueing). save_svg = TRUE, SVG written \"{file}.svg\" Inkscape action string stored .fundsr$inkscape_queue[file] later batch export \"{file}.png\" px_width pixels wide. save_png = TRUE, PNG also written immediately \"{file}.png\". PNG uses width, height, units SVG, sets dpi = px_width / width_in pixel width approximately px_width keeping physical-size typography. PNG background set white. save_svg save_png FALSE, function issues warning returns without writing files queueing exports.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/spdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an SPDR fund — spdr","title":"Import an SPDR fund — spdr","text":"Wrapper around load_fund() SPDR files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/spdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an SPDR fund — spdr","text":"","code":"spdr(ticker, file = NULL, benchmark = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/spdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an SPDR fund — spdr","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/store_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Store a cached object in the package storage environment — store_timeseries","title":"Store a cached object in the package storage environment — store_timeseries","text":"Evaluates expression assigns result package storage environment (.fundsr_storage) given variable name. value recomputed missing global option fundsr.reload set TRUE. Optionally updates fund/index map.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/store_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Store a cached object in the package storage environment — store_timeseries","text":"","code":"store_timeseries(var_name, expr, fund_index_map = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/store_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Store a cached object in the package storage environment — store_timeseries","text":"var_name Name variable store .fundsr_storage. expr expression evaluate (re)computing value. fund_index_map Optional named vector list fund/index pairs add .fundsr$fund_index_map.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/store_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Store a cached object in the package storage environment — store_timeseries","text":"Invisibly returns NULL. Called side effects.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/store_timeseries.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Store a cached object in the package storage environment — store_timeseries","text":"expression expr evaluated caller's environment stored .fundsr_storage. fundsr.reload option can used force recomputation.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/ubs.html","id":null,"dir":"Reference","previous_headings":"","what":"Import a UBS fund — ubs","title":"Import a UBS fund — ubs","text":"Wrapper around load_fund() UBS files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/ubs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import a UBS fund — ubs","text":"","code":"ubs(ticker, file = NULL, benchmark = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/ubs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import a UBS fund — ubs","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/vang.html","id":null,"dir":"Reference","previous_headings":"","what":"Import a Vanguard fund — vang","title":"Import a Vanguard fund — vang","text":"Wrapper around load_fund() Vanguard files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/vang.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import a Vanguard fund — vang","text":"","code":"vang(ticker, file = NULL, benchmark = NULL)"},{"path":"https://stantraykov.github.io/fundsr/reference/vang.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import a Vanguard fund — vang","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/xtra.html","id":null,"dir":"Reference","previous_headings":"","what":"Import an Xtrackers fund — xtra","title":"Import an Xtrackers fund — xtra","text":"Wrapper around load_fund() Xtrackers files.","code":""},{"path":"https://stantraykov.github.io/fundsr/reference/xtra.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import an Xtrackers fund — xtra","text":"","code":"xtra(ticker, file = NULL, benchmark = NULL, retrieve_benchmark = FALSE)"},{"path":"https://stantraykov.github.io/fundsr/reference/xtra.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import an Xtrackers fund — xtra","text":"ticker Fund ticker. file Optional filename override. benchmark Optional benchmark key. retrieve_benchmark Logical; also import benchmark column.","code":""},{"path":[]},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"survival-plots-development-version","dir":"Changelog","previous_headings":"","what":"Survival plots","title":"fundsr (development version)","text":"empirical via HMD projected via EUROPOP2023","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"fixes-development-version","dir":"Changelog","previous_headings":"","what":"Fixes","title":"fundsr (development version)","text":"ensure y-limits rolling-difference plots include last 30 days (even outside quantiles) make roll_diff skip benchmarks (addition funds) found supplied df","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"vignettes-examples-translations-development-version","dir":"Changelog","previous_headings":"","what":"Vignettes, examples, translations","title":"fundsr (development version)","text":"add life vignette add DM ex USA funds add example scripts; translate index names common_spec fix glob_funds example include EUR indices fix Bulgarian translation: wrong y-axis label log-return charts translate examples Bulgarian","code":""},{"path":[]},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"configuration-0-1-0","dir":"Changelog","previous_headings":"","what":"Configuration","title":"fundsr 0.1.0","text":"fundsr_options() provides validated wrapper around options() setting common fundsr.* options (data directories, export settings, URL registry, ). add_fund_urls() adds/updates fund download registry (option fundsr.fund_urls).","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"import-and-storage-0-1-0","dir":"Changelog","previous_headings":"","what":"Import and storage","title":"fundsr 0.1.0","text":"Internal caching/storage imported time series via storage environment (get_storage(), clear_storage(), store_timeseries()), optional forced refresh via options(fundsr.reload = TRUE). Extensible data-loader framework imports (add_data_loader(), run_data_loaders(), clear_data_loaders()). Download configured fund files local data directory (download_fund_data()). Read generic delimited time series epoch timestamps (read_timeseries()). Read MSCI TSV files (read_msci_tsv()) import MSCI Excel data via msci(). Import fund NAV (optional benchmark series) Excel register fund→benchmark mappings (load_fund(), get_fund_index_map()). Fallback parser Excel 2003 XML (SpreadsheetML) files. Convenience helpers provider-specific Excel formats: ishs() (iShares), spdr() (SPDR), xtra() (Xtrackers), amun() (Amundi), inve() (Invesco), vang() (Vanguard), ubs() (UBS), hsbc() (HSBC). join_env() combines multiple tables stored environment, optional “late” left-joins optional coalescing .x/.y join columns.","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"rolling-differences-0-1-0","dir":"Changelog","previous_headings":"","what":"Rolling differences","title":"fundsr 0.1.0","text":"roll_diffs() computes rolling, annualized tracking differences fund–index pairs either log-return CAGR-style variants, producing <fund>_rd columns.","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"plotting-and-export-0-1-0","dir":"Changelog","previous_headings":"","what":"Plotting and export","title":"fundsr 0.1.0","text":"plot_roll_diffs() visualizes rolling tracking-difference series quantile-based y-limits bps axis labeling. run_plots() generates plot sets specification, producing CAGR log-return variants. SVG-first export pipeline: save_plot() writes SVG files queues PNG exports batch conversion via Inkscape (export_pngs()), clear_inkscape_queue() reset queue. Optional direct PNG export via ggplot2::ggsave() without Inkscape (lower quality; controlled fundsr.internal_png). Xetra Liquidity Measure (XLM) support: read plot XLM time series (read_xlm_directory(), plot_xlms()), optional back-translation displayed tickers using options(fundsr.xetra_map).","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"internationalization-0-1-0","dir":"Changelog","previous_headings":"","what":"Internationalization","title":"fundsr 0.1.0","text":"Chart elements available two languages (English Bulgarian), language selection based LANGUAGE / LC_MESSAGES. Language-aware user-supplied strings supported via named vectors keyed language code.","code":""},{"path":"https://stantraykov.github.io/fundsr/news/index.html","id":"utilities-0-1-0","dir":"Changelog","previous_headings":"","what":"Utilities","title":"fundsr 0.1.0","text":"reset_state() clears cached storage, loader registry, queued exports, XLM bookkeeping current session.","code":""}]
